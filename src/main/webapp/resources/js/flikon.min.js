/*! FlikOn 2017-07-30 */
var app=angular.module("loginModule",["ui.router","ngResource","angular-loading-bar"]);app.config(["$stateProvider","cfpLoadingBarProvider","$urlRouterProvider",function(a,b,c){b.includeSpinner=!0,b.includeBar=!0,c.otherwise("/"),a.state("index",{url:"/",templateUrl:"resources/app/login-module/landing.html",controller:"LandingCtrl"}).state("login",{url:"/login",templateUrl:"resources/app/login-module/login.html",controller:"LoginCtrl"}).state("registration",{url:"/registration",templateUrl:"resources/app/login-module/registration.html",controller:"RegistrationCtrl"})}]),app.service("UserService",["$resource",function(a){return a("/flikon/:id/:operation",{id:"@id",operation:"@operation"},{current_user:{method:"GET",params:{operation:"current_user"},isArray:!1},register:{method:"POST",params:{operation:"register"},isArray:!1}})}]),app.controller("LandingCtrl",["$scope",function(a){}]),app.controller("LoginCtrl",["$scope","$http",function(a,b){a.user={},a.login=function(){b.post("login",$.param(a.user),{headers:{"content-type":"application/x-www-form-urlencoded"}}).success(function(a){window.location.href="/flikon",console.log("Sucess Login")}).error(function(a){console.log("Fail Login")})}}]),app.controller("RegistrationCtrl",["$scope","$http","$state","UserService",function(a,b,c,d){a.user={},a.register=function(){d.register(a.user).$promise.then(function(a){c.go("login")},function(a){console.log("Error")})}}]);